# üì¶ RuTracker Telegram Bot

[![Python](https://img.shields.io/badge/python-3.12%2B-blue)](https://python.org)
[![License](https://img.shields.io/badge/license-MIT-green)](LICENSE)
[![Telegram](https://img.shields.io/badge/Telegram-Bot-blue)](https://t.me)

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π Telegram-–±–æ—Ç –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –Ω–æ–≤—ã—Ö –∏–≥—Ä –≤ —Ä–∞–∑–¥–µ–ª–µ "–ì–æ—Ä—è—á–∏–µ –ù–æ–≤–∏–Ω–∫–∏" –Ω–∞ RuTracker.org.

## ‚ú® –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- üîÑ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–∞—Ä—Å–∏–Ω–≥** –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç
- üîî **–£–º–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** —Å –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ —Ä–∞–∑–¥–∞—á–∞—Ö
- üíæ **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö SQLite** –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏—Å—Ç–æ—Ä–∏–∏
- ü§ñ **6 –∫–æ–º–∞–Ω–¥ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è** —á–µ—Ä–µ–∑ Telegram
- üõ°Ô∏è **Systemd —Å–µ—Ä–≤–∏—Å** –¥–ª—è –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞
- üìä **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∑–¥–æ—Ä–æ–≤—å—è** —Å–∏—Å—Ç–µ–º—ã
- üîå **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø—Ä–æ–∫—Å–∏** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- üìù **–ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç)
- [–£—Å—Ç–∞–Ω–æ–≤–∫–∞](#—É—Å—Ç–∞–Ω–æ–≤–∫–∞)
- [–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è](#–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)
- [–ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞](#–∫–æ–º–∞–Ω–¥—ã-–±–æ—Ç–∞)
- [–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ VPS](#—Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ-–Ω–∞-vps)
- [Systemd —Å–µ—Ä–≤–∏—Å](#systemd-—Å–µ—Ä–≤–∏—Å)
- [–†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ](#—Ä–µ–∑–µ—Ä–≤–Ω–æ–µ-–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ)
- [–†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º](#—Ä–µ—à–µ–Ω–∏–µ-–ø—Ä–æ–±–ª–µ–º)
- [FAQ](#faq)
- [–õ–∏—Ü–µ–Ω–∑–∏—è](#–ª–∏—Ü–µ–Ω–∑–∏—è)

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- **Python** 3.12+
- **–û–°**: Ubuntu 22.04+, Debian 11+, CentOS 8+
- **–ü–∞–º—è—Ç—å**: 512MB RAM, 10GB SSD
- **Telegram** –∞–∫–∫–∞—É–Ω—Ç

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞ 5 –º–∏–Ω—É—Ç
```bash
git clone https://github.com/BigGratz/rutracker-telegram-bot.git
cd rutracker-telegram-bot
cp .env.example .env
nano .env  # –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é

python3.12 -m venv venv
source venv/bin/activate
pip install -r requirements.txt

python test_bot.py  # –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
python run_bot.py   # –ó–∞–ø—É—Å–∫
```

‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞
–ü–æ–¥—Ä–æ–±–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞ Ubuntu 24.04

```bash
sudo apt update && sudo apt upgrade -y
sudo apt install -y python3.12 python3.12-venv python3.12-dev python3-pip     git curl wget sqlite3

# –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
sudo useradd -m -s /bin/bash rutrackerbot
sudo passwd rutrackerbot
su - rutrackerbot

# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
git clone https://github.com/BigGratz/rutracker-telegram-bot.git
cd rutracker-telegram-bot
python3.12 -m venv venv
source venv/bin/activate
pip install --upgrade pip
pip install -r requirements.txt
```

üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª .env –Ω–∞ –æ—Å–Ω–æ–≤–µ .env.example:

```env
# –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–´–ï –ù–ê–°–¢–†–û–ô–ö–ò
BOT_TOKEN=your_bot_token_here      # –ü–æ–ª—É—á–∏—Ç—å —É @BotFather
ADMIN_ID=your_telegram_id          # –ü–æ–ª—É—á–∏—Ç—å —É @userinfobot
RUTRACKER_URL=https://rutracker.org/forum/viewforum.php?f=635
CHECK_INTERVAL=300                  # 5 –º–∏–Ω—É—Ç –≤ —Å–µ–∫—É–Ω–¥–∞—Ö

# –û–ü–¶–ò–û–ù–ê–õ–¨–ù–´–ï –ù–ê–°–¢–†–û–ô–ö–ò
USE_PROXY=false
PROXY_URL=http://proxy:port
PROXY_USER=username
PROXY_PASSWORD=password
USER_AGENT=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36
```

ü§ñ –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞

–ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä
--- | --- | ---
/start | –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞ –∏ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ | /start
/status | –°—Ç–∞—Ç—É—Å —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞ | /status
/check_now | –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ | /check_now
/stats | –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö | /stats
/last | –ü–æ—Å–ª–µ–¥–Ω–∏–µ 5 –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –∏–≥—Ä | /last
/help | –°–ø—Ä–∞–≤–∫–∞ –ø–æ –∫–æ–º–∞–Ω–¥–∞–º | /help

üì® –ü—Ä–∏–º–µ—Ä —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

```
üéÆ –ù–û–í–ê–Ø –ò–ì–†–ê –ù–ê RUTRACKER!

[DL] Earth Must Die [P] [ENG + 3 / ENG] (2026, Adventure) (1.8882) [Portable]

üë§ –ê–≤—Ç–æ—Ä: LinguaLatina
üì¶ –†–∞–∑–º–µ—Ä: 1.79 GB
‚¨ÜÔ∏è –°–∏–¥—ã: 39 | ‚¨áÔ∏è –õ–∏—á–∏: 4
üí¨ –û—Ç–≤–µ—Ç–æ–≤: 0 | üì• –°–∫–∞—á–∏–≤–∞–Ω–∏–π: 128

üîó –°—Å—ã–ª–∫–∞ –Ω–∞ —Ä–∞–∑–¥–∞—á—É
```

üõ†Ô∏è –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ VPS

–°–∫—Ä–∏–ø—Ç –ø–æ–ª–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏ deploy_bot.sh:

```bash
#!/bin/bash
sudo apt update && sudo apt upgrade -y
sudo apt install -y python3.12 python3.12-venv git curl sqlite3
sudo useradd -m -s /bin/bash rutrackerbot
sudo passwd rutrackerbot

su - rutrackerbot
git clone https://github.com/BigGratz/rutracker-telegram-bot.git
cd rutracker-telegram-bot
python3.12 -m venv venv
source venv/bin/activate
pip install -r requirements.txt
cp .env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env —Ñ–∞–π–ª
python test_bot.py
```

üì¶ Systemd —Å–µ—Ä–≤–∏—Å

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª /etc/systemd/system/rutracker-bot.service:

```ini
[Unit]
Description=Rutracker Telegram Bot
After=network.target

[Service]
Type=simple
User=rutrackerbot
Group=rutrackerbot
WorkingDirectory=/home/rutrackerbot/rutracker-telegram-bot
Environment="PATH=/home/rutrackerbot/rutracker-telegram-bot/venv/bin"
ExecStart=/home/rutrackerbot/rutracker-telegram-bot/venv/bin/python /home/rutrackerbot/rutracker-telegram-bot/run_bot.py
Restart=always
RestartSec=10
StandardOutput=syslog
StandardError=syslog
SyslogIdentifier=rutracker-bot

# –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤
MemoryLimit=512M
CPUQuota=50%

# –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
NoNewPrivileges=true
PrivateTmp=true

[Install]
WantedBy=multi-user.target
```

# –ê–∫—Ç–∏–≤–∞—Ü–∏—è
```bash
sudo systemctl daemon-reload
sudo systemctl enable rutracker-bot.service
sudo systemctl start rutracker-bot.service
```

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
```bash
sudo journalctl -u rutracker-bot.service -f
sudo journalctl -u rutracker-bot.service --since "1 hour ago"
```

üíæ –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
#!/bin/bash
BACKUP_DIR="/home/rutrackerbot/backups"
DATE=$(date +%Y%m%d_%H%M%S)
DB_FILE="/home/rutrackerbot/rutracker-telegram-bot/bot.db"
BACKUP_FILE="$BACKUP_DIR/rutracker_bot_$DATE.db"

mkdir -p $BACKUP_DIR
cp $DB_FILE $BACKUP_FILE
gzip $BACKUP_FILE

# –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö –±—ç–∫–∞–ø–æ–≤ (>30 –¥–Ω–µ–π)
find $BACKUP_DIR -name "*.db.gz" -mtime +30 -delete
```

–î–æ–±–∞–≤—å—Ç–µ –≤ cron:

```bash
0 2 * * * /home/rutrackerbot/rutracker-telegram-bot/backup.sh
```

üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ë–æ—Ç –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
```bash
sudo journalctl -u rutracker-bot.service -n 100
cat .env | grep BOT_TOKEN
```

### –ù–µ –ø—Ä–∏—Ö–æ–¥—è—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
```bash
sqlite3 bot.db "SELECT value FROM settings WHERE key = 'last_topic_id';"
sqlite3 bot.db "UPDATE settings SET value = '0' WHERE key = 'last_topic_id';"
sudo systemctl restart rutracker-bot.service
```

### –û—à–∏–±–∫–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞
```bash
curl -I https://rutracker.org/forum/viewforum.php?f=635
cat .env | grep USER_AGENT
```

### –û—à–∏–±–∫–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
```bash
sqlite3 bot.db "PRAGMA integrity_check;"
cp bot.db bot.db.backup
rm bot.db
python -c "from bot.database import init_db; import asyncio; asyncio.run(init_db())"
```

üîç FAQ

‚ùì –ö–∞–∫ –∏–∑–º–µ–Ω–∏—Ç—å –∏–Ω—Ç–µ—Ä–≤–∞–ª –ø—Ä–æ–≤–µ—Ä–∫–∏?

–ò–∑–º–µ–Ω–∏—Ç–µ CHECK_INTERVAL –≤ —Ñ–∞–π–ª–µ .env.

‚ùì –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤?

–¢—Ä–µ–±—É–µ—Ç—Å—è –∏–∑–º–µ–Ω–∏—Ç—å –∫–æ–¥ –≤ bot/main.py.

‚ùì –ë–æ—Ç –Ω–µ –≤–∏–¥–∏—Ç –Ω–æ–≤—ã–µ –∏–≥—Ä—ã?
```bash
sqlite3 bot.db "UPDATE settings SET value = '0' WHERE key = 'last_topic_id';"
sudo systemctl restart rutracker-bot.service
```

‚ùì –ö–∞–∫ –∏–∑–º–µ–Ω–∏—Ç—å –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º—ã–π —Ä–∞–∑–¥–µ–ª?

```env
RUTRACKER_URL=https://rutracker.org/forum/viewforum.php?f=313
```

‚ùì –ö–∞–∫ –æ–±–Ω–æ–≤–∏—Ç—å –±–æ—Ç–∞?
```bash
cd ~/rutracker-telegram-bot
git pull origin main
source venv/bin/activate
pip install -r requirements.txt
sudo systemctl restart rutracker-bot.service
```

üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π MIT.

üë• –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç

–í–∫–ª–∞–¥—ã –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é—Ç—Å—è! –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ issue –∏–ª–∏ pull request.

‚≠ê –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –ø—Ä–æ–µ–∫—Ç –±—ã–ª –ø–æ–ª–µ–∑–µ–Ω, –ø–æ—Å—Ç–∞–≤—å—Ç–µ –∑–≤–µ–∑–¥—É –Ω–∞ GitHub!

–ê–≤—Ç–æ—Ä: BigGratz  
Telegram: @BigGratz  
GitHub: https://github.com/BigGratz
